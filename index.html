<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wanglin.gay - Portfolio</title>
  <meta name="description" content="EN: Wang Lin's Portfolio / VI: Portfolio của thằng Wang Lin" />
  <link rel="icon" type="image/x-icon" href="/wanglinavt.png">

  <meta name="title" content="wanglin.gay - Portfolio">
  <meta name="description" content="EN: Wang Lin's Portfolio / VI: Portfolio của thằng Wang Lin">
  <meta name="keywords" content="Wang Lin, wanglin.gay, portfolio">
  <meta name="author" content="Wang Lin">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#ffe0e0">
  <meta name="msapplication-navbutton-color" content="#ffe0e0">
  <meta name="apple-mobile-web-app-status-bar-style" content="#ffe0e0">

  <meta property="og:type" content="website">
  <meta property="og:url" content="https://wanglin.gay/">
  <meta property="og:title" content="wanglin.gay - Portfolio">
  <meta property="og:description" content="EN: Wang Lin's Portfolio / VI: Portfolio của thằng Wang Lin">
  <meta property="og:image" content="/wanglinavt.png">

  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://wanglin.gay/">
  <meta property="twitter:title" content="wanglin.gay - Portfolio">
  <meta property="twitter:description" content="EN: Wang Lin's Portfolio / VI: Portfolio của thằng Wang Lin">
  <meta property="twitter:image" content="/wanglinavt.png">

  <style>
    @font-face{
      font-family: "WangLinPixel";
      src: url("./pixel-font.otf") format("opentype");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --bg: #fff5f5;
      --ink: #2b1818;
      --muted: rgba(43, 24, 24, .74);
      --paper: #fffafa;
      --paper2: #ffe0e0;
      --line: #2b1818;
      --lineSoft: rgba(43,24,24,.35);
      --accent: #a03333;
      --accent2:#d94646;
      --shadow: 8px 8px 0 rgba(43,24,24,.90);
      --shadowSoft: 6px 6px 0 rgba(43,24,24,.45);
      --max: 1060px;
      --pixel: "WangLinPixel", ui-monospace, monospace;
      --cursor-default: url("./cursor.svg") 2 2, auto;
      --cursor-pointer: url("./selected-cursor.svg") 6 6, pointer;
    }

    html, body{
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    html::-webkit-scrollbar,
    body::-webkit-scrollbar{
      width: 0;
      height: 0;
    }

    *{ box-sizing: border-box; image-rendering: pixelated; }
    html{ scroll-behavior: smooth; }
    body{
      margin:0;
      background: linear-gradient(135deg, #fff8f8 0%, #ffe0e0 50%, #ffd4d4 100%);
      color: var(--ink);
      font-family: var(--pixel);
      letter-spacing: .2px;
      overflow-x:hidden;
      cursor: var(--cursor-default);
    }

    a, button, .btn, .link, .lang-btn{ cursor: var(--cursor-pointer); }
    .bg::before{
      content:"";
      position: fixed; inset:0;
      pointer-events:none;
      background:
        linear-gradient(to right, rgba(43,24,24,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(43,24,24,.06) 1px, transparent 1px);
      background-size: 18px 18px;
      opacity: .65;
      z-index:-2;
    }
    .bg::after{
      content:"";
      position: fixed; inset:0;
      pointer-events:none;
      opacity:.12;
      z-index:-1;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
      background-size: 140px 140px;
    }

    a{ color: inherit; text-decoration:none; }
    a:focus-visible, button:focus-visible{
      outline: 3px dashed var(--accent2);
      outline-offset: 3px;
    }

    .wrap{
      max-width: var(--max);
      margin: 0 auto;
      padding: 18px 16px 70px;
    }

    .px{
      background: linear-gradient(180deg, var(--paper), var(--paper2));
      border: 3px solid var(--line);
      box-shadow: var(--shadowSoft);
    }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 10px 0;
      background: rgba(255,240,240,.94);
      border-bottom: 3px solid var(--line);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }
    .topbar-inner{
      max-width: var(--max);
      margin: 0 auto;
      padding: 0 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: .8px;
    }
    .logo{
      width: 34px;
      height: 34px;
      display: grid;
      place-items: center;
      background: var(--paper);
      border: 3px solid var(--line);
      box-shadow: 4px 4px 0 rgba(43,24,24,.65);
     overflow: hidden; /* QUAN TRỌNG */
    }

    .logo img{
      width: 100%;
      height: 100%;
      object-fit: cover;   /* hoặc contain nếu SVG có viền trống */
      display: block;
    }

    .nav{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content:flex-end;
    }
    .nav a{
      padding: 8px 10px;
      border: 3px solid var(--line);
      background: var(--paper);
      box-shadow: 4px 4px 0 rgba(43,24,24,.45);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 12px;
      transition: transform .08s ease;
    }
    .nav a:hover{ transform: translate(-1px,-1px); box-shadow: 5px 5px 0 rgba(43,24,24,.60); }

    .langbox{
      display:flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border: 3px solid var(--line);
      background: var(--paper);
      box-shadow: 4px 4px 0 rgba(43,24,24,.45);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 12px;
    }
    .lang-btn{
      border: 3px solid var(--line);
      background: #fff;
      padding: 5px 8px;
      cursor: pointer;
      font-weight: 900;
      text-transform: uppercase;
      box-shadow: 3px 3px 0 rgba(43,24,24,.55);
      cursor: var(--cursor-pointer) !important;
    }
    .lang-btn:active{ transform: translate(2px,2px); box-shadow: 1px 1px 0 rgba(43,24,24,.55); }

.px-ico{
  --u: 4px;
  width: calc(var(--u) * 3);
  height: calc(var(--u) * 3);
  flex: 0 0 calc(var(--u) * 3);
  display: inline-block;
  position: relative;
  align-self: center;
}

.px-ico::before{
  content:"";
  position:absolute;
  left:0; top:0;
  width: var(--u);
  height: var(--u);
  background: var(--accent2);
  box-shadow:
    calc(var(--u) * 1) 0 0 var(--accent2),
    calc(var(--u) * 2) 0 0 var(--accent2),

    0 calc(var(--u) * 1) 0 var(--accent2),
    calc(var(--u) * 1) calc(var(--u) * 1) 0 var(--accent),
    calc(var(--u) * 2) calc(var(--u) * 1) 0 var(--accent2),

    0 calc(var(--u) * 2) 0 var(--accent2),
    calc(var(--u) * 1) calc(var(--u) * 2) 0 var(--accent2),
    calc(var(--u) * 2) calc(var(--u) * 2) 0 var(--accent2);
}

.kicker, .badge{ align-items: center; }

    .hero{
      padding: 26px 0 8px;
      display:grid;
      gap: 12px;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border: 3px solid var(--line);
      background: var(--paper);
      box-shadow: var(--shadowSoft);
      width: fit-content;
      font-weight: 900;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(43,24,24,.9);
    }

    h1{
      margin: 0;
      font-size: clamp(28px, 5vw, 46px);
      line-height: 1.08;
      letter-spacing: -1px;
      text-transform: uppercase;
    }
    .sub{
      margin: 0;
      color: var(--muted);
      line-height: 1.7;
      max-width: 70ch;
      font-size: 14px;
    }

    .cta{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 6px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 10px 12px;
      border: 3px solid var(--line);
      background: #fff;
      box-shadow: 5px 5px 0 rgba(43,24,24,.65);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 12px;
      transition: transform .08s ease;
    }
    .btn:hover{ transform: translate(-1px,-1px); box-shadow: 6px 6px 0 rgba(43,24,24,.75); }
    .btn:active{ transform: translate(3px,3px); box-shadow: 2px 2px 0 rgba(43,24,24,.65); }

    .icon{
      width: 18px; height: 18px;
      display:grid;
      place-items:center;
      border: 3px solid var(--line);
      background: var(--paper2);
      font-size: 11px;
    }

    section{ margin-top: 26px; padding-top: 10px; }
    .section-title{
      display:flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }
    h2{
      margin:0;
      font-size: 18px;
      text-transform: uppercase;
      letter-spacing: .8px;
    }
    .hint{
      margin:0;
      color: var(--muted);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 11px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
    }
    .card{
      grid-column: span 6;
      padding: 14px;
      border: 3px solid var(--line);
      background: linear-gradient(180deg, var(--paper), var(--paper2));
      box-shadow: var(--shadow);
      position: relative;
      overflow:hidden;
      transition: transform .08s ease;
      min-height: 190px;
    }
    .card:hover{ transform: translate(-2px,-2px); }

    .badge{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 6px 8px;
      border: 3px solid var(--line);
      background: #fff;
      box-shadow: 4px 4px 0 rgba(43,24,24,.55);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 11px;
      width: fit-content;
    }

    .card-head{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    .card h3{
      margin: 10px 0 8px;
      font-size: 16px;
      text-transform: uppercase;
    }
    .card p{
      margin: 0 0 12px;
      color: rgba(43,24,24,.78);
      line-height: 1.7;
      font-size: 13px;
    }
    .meta{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 8px;
    }
    .chips{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .chip{
      padding: 6px 8px;
      border: 3px solid var(--line);
      background: #fff;
      box-shadow: 3px 3px 0 rgba(43,24,24,.45);
      font-size: 11px;
      font-weight: 900;
      text-transform: uppercase;
    }
    .link{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 8px 10px;
      border: 3px solid var(--line);
      background: #fff;
      box-shadow: 4px 4px 0 rgba(43,24,24,.65);
      font-weight: 900;
      text-transform: uppercase;
      font-size: 12px;
      transition: transform .08s ease;
    }
    .link:hover{ transform: translate(-1px,-1px); box-shadow: 5px 5px 0 rgba(43,24,24,.75); }
    .arrow{ font-weight: 900; }

    .about{ grid-column: span 7; padding: 14px; }
    .panel{ padding: 14px; }
    .side{ grid-column: span 5; display:grid; gap: 14px; }
    .about, .panel{
      border: 3px solid var(--line);
      background: linear-gradient(180deg, var(--paper), var(--paper2));
      box-shadow: var(--shadow);
    }
    .about p{ margin:0; color: rgba(43,24,24,.82); line-height: 1.75; font-size: 13px; }

    footer{
      margin-top: 32px;
      padding-top: 16px;
      border-top: 3px solid var(--line);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      font-weight: 900;
      text-transform: uppercase;
      font-size: 11px;
      color: rgba(43,24,24,.75);
    }

    .reveal{ opacity:0; transform: translateY(8px); transition: opacity .45s ease, transform .45s ease; }
    .reveal.on{ opacity:1; transform: translateY(0); }

    @media (max-width: 900px){
      .nav{ display:none; }
      .card{ grid-column: span 12; }
      .about{ grid-column: span 12; }
      .side{ grid-column: span 12; }
      footer{ gap: 12px; }
    }
  </style>
</head>

<body class="bg">
  <div class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="#top" aria-label="Go to top">
        <span class="logo"><img src="wanglinavt.png" alt="wanglin.gay Avt"></span>
        <span>wanglin.gay</span>
      </a>

      <nav class="nav" aria-label="Primary">
        <a href="#projects" data-i18n="navProjects">Projects</a>
        <a href="#about" data-i18n="navAbout">About</a>
        <a href="#contact" data-i18n="navContact">Contact</a>
      </nav>

      <div class="langbox">
        <span data-i18n="langLabel">Language</span>
        <button class="lang-btn" id="langToggle" type="button" aria-label="Toggle language">EN</button>
      </div>
    </div>
  </div>

  <main id="top" class="wrap">
    <header class="hero">
      <div class="kicker reveal">
        <span class="px-ico" aria-hidden="true"></span>
        <span data-i18n="kicker">vibe-first web developer • lightly AI-assisted</span>
      </div>

      <h1 class="reveal" data-i18n="headline">
        Retro UI. Clean code. Fast shipping.
      </h1>

      <p class="sub reveal" data-i18n="subheadline">
        I’m the maker behind wanglin.gay. I build small, friendly web experiences - AI helps with scaffolding, but the taste and polish are mine.
      </p>

      <div class="cta reveal">
        <a class="btn" href="#projects"><span class="icon">↳</span><span data-i18n="ctaView">View projects</span></a>
        <a class="btn" href="#contact"><span class="icon">✉</span><span data-i18n="ctaContact">Contact</span></a>
      </div>
    </header>

    <section id="projects">
      <div class="section-title">
        <h2 class="reveal" data-i18n="projectsTitle">Projects</h2>
        <p class="hint reveal" data-i18n="projectsHint">Selected builds</p>
      </div>

      <div class="grid">
        <article class="card reveal">
          <div class="card-head">
            <div class="badge">
              <span class="px-ico" aria-hidden="true"></span>
              <span data-i18n="p1Badge">Utility hub</span>
            </div>
            <a class="link" href="https://discord.gg/kjHRD8Fu8d" target="_blank" rel="noopener noreferrer">
              <span data-i18n="visit">Visit</span> <span class="arrow">→</span>
            </a>
          </div>

          <h3>Gacha Life Network</h3>
          <p data-i18n="p1Desc">
            A hub of practical web utilities designed to simplify everyday tasks - focused on performance, modern UI, and smooth workflows.
          </p>

          <div class="meta">
            <div class="chips">
              <span class="chip">ECO</span>
              <span class="chip">GACHA</span>
              <span class="chip">GAY</span>
            </div>
            <span class="hint" data-i18n="p1Note">Tools / landing + links</span>
          </div>
        </article>

        <article class="card reveal">
          <div class="card-head">
            <div class="badge">
              <span class="px-ico" aria-hidden="true"></span>
              <span data-i18n="p2Badge">Donate page</span>
            </div>
            <a class="link" href="https://nuoiwanglin.vercel.app" target="_blank" rel="noopener noreferrer">
              <span data-i18n="visit">Visit</span> <span class="arrow">→</span>
            </a>
          </div>

          <h3>nuoitoi.wanglin.gay</h3>
          <p data-i18n="p2Desc">
            A simple donate page to support my work - clean, direct, and made for people who want to fuel the next build.
          </p>

          <div class="meta">
            <div class="chips">
              <span class="chip">DONATE</span>
            </div>
            <span class="hint" data-i18n="p2Note">“Nuôi tôi” support link</span>
          </div>
        </article>
      </div>
    </section>

    <section id="about">
      <div class="section-title">
        <h2 class="reveal" data-i18n="aboutTitle">About</h2>
        <p class="hint reveal" data-i18n="aboutHint">How I build</p>
      </div>

      <div class="grid">
        <div class="about reveal">
          <p data-i18n="aboutBody">
            I’m a vibe-first web developer: I care about look, feel, speed, and clarity. I use AI lightly for ideation, scaffolding, and edge-cases -
            but the final result is curated by me: layout, copy, interactions, and pixel-level polish.
          </p>
        </div>

        <div class="side">
          <div class="panel reveal">
            <h2 style="margin:0 0 10px;" data-i18n="stackTitle">FAV</h2>
            <div class="chips">
              <span class="chip">Valorant</span>
              <span class="chip">Liên Minh</span>
              <span class="chip">Free Fire</span>
              <span class="chip">Nghịch Code</span>
              <span class="chip">Nghịch Ai</span>
              <span class="chip">Nghịch Server Minecraf</span>
            </div>
          </div>

          <div class="panel reveal">
            <h2 style="margin:0 0 10px;" data-i18n="valuesTitle">Values</h2>
            <div class="chips">
              <span class="chip" data-i18n="v1">CLEAN UI</span>
              <span class="chip" data-i18n="v2">FAST LOAD</span>
              <span class="chip" data-i18n="v3">READABLE CODE</span>
              <span class="chip" data-i18n="v4">SHIP & ITERATE</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="section-title">
        <h2 class="reveal" data-i18n="contactTitle">Contact</h2>
        <p class="hint reveal" data-i18n="contactHint">Ping me</p>
      </div>

      <div class="grid">
        <div class="card reveal" style="grid-column: span 12;">
          <h3 style="margin-top:0" data-i18n="contactCardTitle">Discord</h3>
          <p data-i18n="contactBody">
            The fastest way to reach me is Discord. Click the button below and drop a message.
          </p>

          <div class="cta" style="margin-top: 10px;">
            <a class="btn" href="https://discord.com/users/1303950983604207646" target="_blank" rel="noopener noreferrer">
              <span class="icon">DS</span>
              <span data-i18n="dmDiscord">DM on Discord</span>
            </a>

            <a class="btn" href="https://nuoiwanglin.vercel.app" target="_blank" rel="noopener noreferrer">
              <span class="icon">♥</span>
              <span data-i18n="supportMe">Support me</span>
            </a>
          </div>

          <div style="margin-top: 12px;">
            <span class="chip" data-i18n="tipDiscord">TIP: If the button doesn’t open, copy the ID and search on Discord: 905383380554752073</span>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div>© <span id="year"></span> wanglin.gay - <span data-i18n="footerLine">RETRO UI, MODERN QUALITY.</span></div>
      <a class="link" href="#top"><span data-i18n="backTop">Back to top</span> <span class="arrow">↑</span></a>
    </footer>
  </main>

  <script>
    const i18n = {
      en: {
        langLabel: "Language",
        navProjects: "Projects",
        navAbout: "About",
        navContact: "Contact",

        kicker: "Wang Lin's Portfolio",
        headline: "wanglin.gay",
        subheadline: "Wang Lin - useless loser who sucks at everything",
        ctaView: "CHECK MY CRAP",
        ctaContact: "DMs",

        projectsTitle: "Projects",
        projectsHint: "I love Dodo",
        p1Badge: "Utility Hu",
        p1Desc: "A Minecraft Server In Complete ( i hope it become the best server )",
        p1Note: "WangLin EcoSystem",
        p2Badge: "''Nuôi Tôi'' Project",
        p2Desc: "Kicked off the ''Nuôi Tôi'' project. Wang Lin will blow the money on whatever he wants (mostly Lego)",
        p2Note: "Throw money into the trash",
        visit: "Go",

        aboutTitle: "About",
        aboutHint: "Whoever reads this is a dog...",
        aboutBody: "Vibe coding, dumb as bricks, likes math, too lazy to study math, obsessed with finding x, specifically xxx. Lives in a constant daydream, nothing left to lose except the things worth losing. Responsible at work tho. Super lazy but loves playing around.",
        stackTitle: "Stack",
        valuesTitle: "GUD BOI",
        v1: "LOVES MONEY MORE THAN SHIT",
        v2: "NO BRAIN CELLS",
        v3: "CODES WORSE THAN A DOG",
        v4: "DOG BRAIN BUT THINKS HE'S COOL",

        contactTitle: "Contact",
        contactHint: "Hit me up",
        contactCardTitle: "Discord",
        contactBody: "Fastest way is to jump on Discord and DM me. Click the button below and you're straight in chat.",
        dmDiscord: "DMs DISCORD",
        supportMe: "''Nuôi Tôi''",
        tipDiscord: "Tip: If button broken, copy this user-id and add friend: @wanglin.gay",

        footerLine: "NICE UI, SKIBIDI PERFORMANCE, IDEAS STRAIGHT FROM THE TOILET.",
        backTop: "Back to top"
      },
      vi: {
        langLabel: "Ngôn ngữ",
        navProjects: "Dự án",
        navAbout: "Giới thiệu",
        navContact: "Liên hệ",

        kicker: "Portfolio của Wang Lin",
        headline: "wanglin.gay",
        subheadline: "Wang Lin - occho, ăn hại, chơi ngu, khonnan",
        ctaView: "XEM DỰ ÁN CỦA TÔI",
        ctaContact: "DMS",

        projectsTitle: "Dự án",
        projectsHint: "Yêu Con Gà Tiền Sử",
        p1Badge: "My Network",
        p1Desc: "Server Minecraft Lỏ của wanglin mong ae vào chơi",
        p1Note: "WangLin EcoSystem",
        p2Badge: "Dự Án ''Nuôi TÔi''",
        p2Desc: "Khởi công với dự án ''Nuôi Tôi''. Wang Lin sẽ chi tiêu cho những thứ Wang Lin thích (đi mua sex toy)",
        p2Note: "Ném tiền vào bãi rác",
        visit: "Go",

        aboutTitle: "Giới thiệu",
        aboutHint: "Thằng nào đọc dòng này là chó...",
        aboutBody: "Vibe Coding, ngu, thích học đánh vần, lười học, thích tìm x, cụ thể là xvideox. Cả ngày sống trong cơn nứng, chả còn gì để mất ngoài những thứ để mất. Có trách nhiệm với tình yêu nhưng tiền quan trọng hơn",
        stackTitle: "Stack",
        valuesTitle: "GUD BOI",
        v1: "YÊU TIỀN HƠN YÊU CỨT",
        v2: "ĐÉO CÓ NÃO",
        v3: "CODE NGU HƠN CHÓ",
        v4: "ÓC CHÓ MÀ NGHĨ MÌNH NGẦU",

        contactTitle: "Liên hệ",
        contactHint: "Nhắn tao đi",
        contactCardTitle: "Discord",
        contactBody: "Nhanh nhất là nhảy Discord nhắn tao. Bấm nút dưới là bay thẳng tới chat luôn.",
        dmDiscord: "DMS DISCORD",
        supportMe: "''Nuôi Tôi''",
        tipDiscord: "Tip: Nút hỏng thì copy user-id add friend: @wangdolin",

        footerLine: "UI ĐẸP, HIỆU NĂNG SKIBIDI, Ý TƯỞNG NHƯ CỨT.",
        backTop: "Lên đầu trang"
      }
    };

    const $ = (q, root=document) => root.querySelector(q);
    const $$ = (q, root=document) => [...root.querySelectorAll(q)];

    const langBtn = $("#langToggle");
    const saved = localStorage.getItem("wanglin_lang");
    let lang = saved === "vi" ? "vi" : "en";

    function applyLang(next){
      lang = next;
      const dict = i18n[lang];
      $$("[data-i18n]").forEach(el=>{
        const key = el.getAttribute("data-i18n");
        if(dict[key]) el.textContent = dict[key];
      });
      langBtn.textContent = lang.toUpperCase();
      document.documentElement.lang = lang;
      localStorage.setItem("wanglin_lang", lang);
    }

    langBtn.addEventListener("click", ()=>{
      applyLang(lang === "en" ? "vi" : "en");
    });

    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add("on"); });
    }, { threshold: 0.15 });
    $$(".reveal").forEach(el=> io.observe(el));

    $("#year").textContent = new Date().getFullYear();

    applyLang(lang);

    let __wanglinAudio = null;

    function wanglinAudio(){
      if(__wanglinAudio) return __wanglinAudio;
      const AC = window.AudioContext || window.webkitAudioContext;
      __wanglinAudio = new AC();
      return __wanglinAudio;
    }

    function beep({freq=880, dur=0.035, type="square", vol=0.06} = {}){
      const ac = wanglinAudio();
      if(ac.state === "suspended") ac.resume();

      const t0 = ac.currentTime;
      const osc = ac.createOscillator();
      const gain = ac.createGain();

      osc.type = type;
      osc.frequency.setValueAtTime(freq, t0);

      gain.gain.setValueAtTime(0.0001, t0);
      gain.gain.exponentialRampToValueAtTime(vol, t0 + 0.005);
      gain.gain.exponentialRampToValueAtTime(0.0001, t0 + dur);

      osc.connect(gain);
      gain.connect(ac.destination);

      osc.start(t0);
      osc.stop(t0 + dur + 0.01);
    }

    function click8bit(){
      beep({freq: 990, dur: 0.028, type:"square", vol: 0.055});
      setTimeout(()=>beep({freq: 660, dur: 0.024, type:"square", vol: 0.04}), 18);
    }

    document.addEventListener("click", (e)=>{
      const el = e.target.closest("a, button, .btn, .link, .lang-btn");
      if(!el) return;
      click8bit();
    }, {capture:true});
  </script>
</body>
</html>